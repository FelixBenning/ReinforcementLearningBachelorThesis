%% "\ifthenelse"
\RequirePackage{ifthen}
%% font encoding vector
\RequirePackage[T1]{fontenc}
%% set up language support
\RequirePackage[ngerman, english]{babel}
%\shorthandoff{"} %babel breaks tikz-cd otherwise (activate if used)

%% AMS math
\RequirePackage{mathtools, nccmath}
\RequirePackage{amssymb}
\RequirePackage{amsthm}
%\RequirePackage{amsfonts}
%%allow to modify type of enumerators e.g. (i) instead of 1.
\RequirePackage{enumitem}
%% set graphics support (to include pictures etc.)
\RequirePackage{graphicx}
%% set up color support
\RequirePackage{color}
%% dynamic cross referencing in pdf
\RequirePackage[hidelinks]{hyperref}
%% support for listing of code and output
\RequirePackage{listings} 
\RequirePackage{moreverb}

%%%% textwrapping around figures
\RequirePackage{wrapfig}

%%
\RequirePackage{algpseudocode, algorithm,algorithmicx}

%% remove pagenumbers on empty pages
\RequirePackage{emptypage}

%% Package with lightning symbol for contradictions
\RequirePackage{wasysym} 

%% optionally set up times text font
\newcommand{\TimesFont}{\RequirePackage{times}\RequirePackage[scaled=0.92]{helvet}}

%% options for one or two side set up
\newcommand{\twosided}{\@twosidetrue  \@mparswitchtrue}
\newcommand{\onesided}{\@twosidefalse \@mparswitchfalse}

%% Math Symbols
%% greek
\newcommand{\ga}{\alpha}
\newcommand{\gb}{\beta}
\newcommand{\gd}{\delta}
\newcommand{\gep}{\epsilon}
\newcommand{\vep}{\varepsilon}
\newcommand{\gp}{\phi}
%% use the next macro only if you are sure that you do
%% need the math symbol ">>" which is the std. use for
%% for "\gg"
%\renewcommand{\gg}{\gamma}
\newcommand{\gk}{\kappa}
\newcommand{\gl}{\lambda}
\newcommand{\go}{\omega}
\newcommand{\gs}{\sigma}
\newcommand{\gt}{\theta}
\newcommand{\gz}{\zeta}
\newcommand{\vp}{\varphi}
\newcommand{\vt}{\vartheta}
\newcommand{\gD}{\Delta}
\newcommand{\gG}{\Gamma}
\newcommand{\gL}{\Lambda}
\newcommand{\gO}{\Omega}
\newcommand{\gP}{\Phi}
%% math calligraphy
\newcommand{\cA}{\mathcal{A}}
\newcommand{\cB}{\mathcal{B}}
\newcommand{\cC}{\mathcal{C}}
\newcommand{\cD}{\mathcal{D}}
\newcommand{\cE}{\mathcal{E}}
\newcommand{\cF}{\mathcal{F}}
\newcommand{\cG}{\mathcal{G}}
\newcommand{\cH}{\mathcal{H}}
\newcommand{\cI}{\mathcal{I}}
\newcommand{\cJ}{\mathcal{J}}
\newcommand{\cK}{\mathcal{K}}
\newcommand{\cL}{\mathcal{L}}
\newcommand{\cM}{\mathcal{M}}
\newcommand{\cN}{\mathcal{N}}
\newcommand{\cO}{\mathcal{O}}
\newcommand{\cP}{\mathcal{P}}
\newcommand{\cQ}{\mathcal{Q}}
\newcommand{\cR}{\mathcal{R}}
\newcommand{\cS}{\mathcal{S}}
\newcommand{\cT}{\mathcal{T}}
\newcommand{\cU}{\mathcal{U}}
\newcommand{\cV}{\mathcal{V}}
\newcommand{\cW}{\mathcal{W}}
\newcommand{\cX}{\mathcal{X}}
\newcommand{\cY}{\mathcal{Y}}
\newcommand{\cZ}{\mathcal{Z}}
%% math blackboard bold
\newcommand{\A}{\mathbb{A}}
\newcommand{\B}{\mathbb{B}}
\newcommand{\C}{\mathbb{C}}
\newcommand{\D}{\mathbb{D}}
\newcommand{\E}{\mathbb{E}}
\newcommand{\F}{\mathbb{F}}
\newcommand{\G}{\mathbb{G}}
\newcommand{\I}{\mathbb{I}}
\newcommand{\J}{\mathbb{J}}
\newcommand{\K}{\mathbb{K}}
\newcommand{\M}{\mathbb{M}}
\newcommand{\N}{\mathbb{N}}
\renewcommand{\Pr}{\mathbb{P}}
\newcommand{\Q}{\mathbb{Q}}
\newcommand{\R}{\mathbb{R}}
\newcommand{\T}{\mathbb{T}}
\newcommand{\U}{\mathbb{U}}
\newcommand{\V}{\mathbb{V}}
\newcommand{\W}{\mathbb{W}}
\newcommand{\X}{\mathbb{X}}
\newcommand{\Y}{\mathbb{Y}}
\newcommand{\Z}{\mathbb{Z}}

 
%new symbol for set of probability measures on... () 
\newcommand{\pmeas}{\mu\mkern-7mu P}

%%Set of stochastic stationary policies
\newcommand{\statPolicy}{\Pi_S}

%%Set of deterministic stationary policies
\newcommand{\detPolicy}{\Pi_S^D}

%% "X => Y" proofs
\newcommand*{\xToy}[2]{\noindent\text{``#1 \(\Rightarrow\) #2''}}
%%set up lightning symbol
\newcommand*{\contradiction}[1][]{\quad\text{{\LARGE\lightning} #1}\ }

%% AMS Theorem Environments
\theoremstyle{plain}% default
\newtheorem{prop}{Proposition}[section]
\newtheorem{lemma}[prop]{Lemma}
\newtheorem{corollary}[prop]{Corollary}
\newtheorem{thm}[prop]{Theorem}

\theoremstyle{definition}
\newtheorem{definition}[prop]{Definition}
\newtheorem{example}[prop]{Example}
\newtheorem{assumption}{Assumption}

\theoremstyle{remark}
\newtheorem{remark}[prop]{Remark}


%% misc
\allowdisplaybreaks[1]

% settings for the listings package - see documentation of the package
\lstset{%
numberstyle=\footnotesize,%                 style of the code line numbers
numbersep=5pt,%                             separation to the code lines
basicstyle=\small,%                         basic style of displays
stringstyle=\ttfamily,%                     style of the strings in the code
captionpos=b,%                              position of the caption: 'b' or 't'
numberblanklines=false,%                    number blank lines?
literate=%                                  translations: items are separated with 'n',
    {:=}{{$\gets$}}1%                           where 'n' is the number of tokens after translation
    {<=}{{$\leq$}}1%
    {>=}{{$\geq$}}1%
    {<>}{{$\neq$}}1%
}


%%%%%%%%%%%%%%%%%%%%% ARROWS %%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%arrow with explanation 
%(https://tex.stackexchange.com/questions/467779/alignment-of-implication-arrows-with-text-on-top)
% % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % %
\newcommand*{\sm@shstack}[3][lr]{
	\mathrel{% makes the resulting stack a relation class (like =,<,>,...)
		\smashoperator[#1]{\mathop{#2}^{#3}}}
}

\newcommand*{\lx@rrow}[2]{ %uses leftsides smashoperator thus ignoring overlap towards the left
	\sm@shstack[l]{#2}{#1}
}%use when aligning to the left
\newcommand*{\x@rrow}[2]{%uses no smashoperator, but adds back stretchability of \implies to the result contrary to \stackrel
	\;\mkern-\thickmuskip\mathop{#2}\limits^{#1}\;\mkern-\thickmuskip
}%use in \(\) and as individul operator without aligning neccessities


\newcommand*{\lximplies}[1]{\lx@rrow{#1}{\implies}} %%%%% =>
\newcommand*{\lximpliedby}[1]{\lx@rrow{#1}{\impliedby}} %%%%%% <=
\newcommand*{\lxiff}[1]{\lx@rrow{#1}{\iff}} %%%%%%%%%%%%% <=>
\newcommand*{\lxeq}[1]{\lx@rrow{#1}{=}} %%%%%%%%%% =
\newcommand*{\lxlq}[1]{\lx@rrow{#1}{\le}}
\newcommand*{\lxgq}[1]{\lx@rrow{#1}{\ge}}

\newcommand*{\ximplies}[1]{\x@rrow{#1}{\implies}} %%%%% =>
\newcommand*{\ximpliedby}[1]{\x@rrow{#1}{\impliedby}} %%%%%% <=
\newcommand*{\xiff}[1]{\x@rrow{#1}{\iff}} %%%%%%%%%%%%% <=>
\newcommand*{\xeq}[1]{\x@rrow{#1}{=}} %%%%%%% =

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%%%%%%%%%%%%%%%%%%% \widebar implementation %%%%%%%%%%%%%%%%%%%%%
%%% https://tex.stackexchange.com/questions/16337/can-i-get-a-widebar-without-using-the-mathabx-package/60253#60253 %%%%%%

\makeatletter
\let\save@mathaccent\mathaccent
\newcommand*\if@single[3]{%
  \setbox0\hbox{${\mathaccent"0362{#1}}^H$}%
  \setbox2\hbox{${\mathaccent"0362{\kern0pt#1}}^H$}%
  \ifdim\ht0=\ht2 #3\else #2\fi
  }
%The bar will be moved to the right by a half of \macc@kerna, which is computed by amsmath:
\newcommand*\rel@kern[1]{\kern#1\dimexpr\macc@kerna}
%If there's a superscript following the bar, then no negative kern may follow the bar;
%an additional {} makes sure that the superscript is high enough in this case:
\newcommand*\widebar[1]{\@ifnextchar^{{\wide@bar{#1}{0}}}{\wide@bar{#1}{1}}}
%Use a separate algorithm for single symbols:
\newcommand*\wide@bar[2]{\if@single{#1}{\wide@bar@{#1}{#2}{1}}{\wide@bar@{#1}{#2}{2}}}
\newcommand*\wide@bar@[3]{%
  \begingroup
  \def\mathaccent##1##2{%
%Enable nesting of accents:
    \let\mathaccent\save@mathaccent
%If there's more than a single symbol, use the first character instead (see below):
    \if#32 \let\macc@nucleus\first@char \fi
%Determine the italic correction:
    \setbox\z@\hbox{$\macc@style{\macc@nucleus}_{}$}%
    \setbox\tw@\hbox{$\macc@style{\macc@nucleus}{}_{}$}%
    \dimen@\wd\tw@
    \advance\dimen@-\wd\z@
%Now \dimen@ is the italic correction of the symbol.
    \divide\dimen@ 3
    \@tempdima\wd\tw@
    \advance\@tempdima-\scriptspace
%Now \@tempdima is the width of the symbol.
    \divide\@tempdima 10
    \advance\dimen@-\@tempdima
%Now \dimen@ = (italic correction / 3) - (Breite / 10)
    \ifdim\dimen@>\z@ \dimen@0pt\fi
%The bar will be shortened in the case \dimen@<0 !
    \rel@kern{0.6}\kern-\dimen@
    \if#31
      \overline{\rel@kern{-0.6}\kern\dimen@\macc@nucleus\rel@kern{0.4}\kern\dimen@}%
      \advance\dimen@0.4\dimexpr\macc@kerna
%Place the combined final kern (-\dimen@) if it is >0 or if a superscript follows:
      \let\final@kern#2%
      \ifdim\dimen@<\z@ \let\final@kern1\fi
      \if\final@kern1 \kern-\dimen@\fi
    \else
      \overline{\rel@kern{-0.6}\kern\dimen@#1}%
    \fi
  }%
  \macc@depth\@ne
  \let\math@bgroup\@empty \let\math@egroup\macc@set@skewchar
  \mathsurround\z@ \frozen@everymath{\mathgroup\macc@group\relax}%
  \macc@set@skewchar\relax
  \let\mathaccentV\macc@nested@a
%The following initialises \macc@kerna and calls \mathaccent:
  \if#31
    \macc@nested@a\relax111{#1}%
  \else
%If the argument consists of more than one symbol, and if the first token is
%a letter, use that letter for the computations:
    \def\gobble@till@marker##1\endmarker{}%
    \futurelet\first@char\gobble@till@marker#1\endmarker
    \ifcat\noexpand\first@char A\else
      \def\first@char{}%
    \fi
    \macc@nested@a\relax111{\first@char}%
  \fi
  \endgroup
}
\makeatother

\endinput
